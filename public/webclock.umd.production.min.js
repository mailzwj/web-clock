!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).WebClock={})}(this,(function(e){"use strict";function t(){return(t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var r={theme:"apple-dark",width:240,height:240,dpi:2},i={"apple-dark":{backgroundColor:"rgba(0, 0, 0, 0.85)",faceColor:"#fff",hourScaleColor:"rgba(0, 0, 0, 0.6)",minuteScaleColor:"rgba(0, 0, 0, 0.3)",textColor:"rgba(0, 0, 0, 0.6)",hourPointerColor:"rgba(0, 0, 0, 0.85)",minutePointerColor:"rgba(0, 0, 0, 0.85)",milliPointerColor:"rgba(242, 162, 60, 1)",centerCircleColor:"#fff"},"apple-light":{backgroundColor:"#fff",faceColor:"rgba(0, 0, 0, 1)",hourScaleColor:"rgba(255, 255, 255, 0.6)",minuteScaleColor:"rgba(255, 255, 255, 0.3)",textColor:"rgba(255, 255, 255, 0.6)",hourPointerColor:"rgba(255, 255, 255, 0.85)",minutePointerColor:"rgba(255, 255, 255, 0.85)",milliPointerColor:"rgba(242, 162, 60, 1)",centerCircleColor:"#fff"},mi:{backgroundColor:"rgba(238, 113, 46, 1)",faceColor:"#fff",hourScaleColor:"rgba(238, 113, 46, 0.6)",minuteScaleColor:"rgba(238, 113, 46, 0.3)",textColor:"rgba(238, 113, 46, 1)",hourPointerColor:"rgba(238, 113, 46, 1)",minutePointerColor:"rgba(238, 113, 46, 1)",milliPointerColor:"rgba(242, 162, 60, 1)",centerCircleColor:"#fff"}};e.default=function(){function e(e,i){void 0===i&&(i={}),this.cvs=function(e){if(!e){var t=document.createElement("canvas");return document.body.appendChild(t),t}if("string"==typeof e)return document.querySelector("#"+e);if(e instanceof HTMLCanvasElement)return e;throw"参数错误"}(e),this.option=t({},r,i),this.draw()}var o=e.prototype;return o.draw=function(){var e,r,o,a,n,l=this,s=2*Math.PI,d=t({},this.option,i[this.option.theme||"apple-dark"],{hourAngle:s/12,minuteAngle:s/60,secondAngle:s/3600,milliAngle:s/6e4}),c=new Date,h=c.getHours(),u=c.getMinutes(),f=c.getSeconds(),g=c.getMilliseconds();a=(r=this.option).height,n=r.dpi,(e=this.cvs).style.width=(o=r.width)+"px",e.style.width=a+"px",e.width=o*n,e.height=a*n,d.center={x:this.cvs.width/2,y:this.cvs.height/2,radius:.45*Math.min(this.cvs.width,this.cvs.height)},function(e){var t=e.getContext("2d");null==t||t.clearRect(0,0,e.width,e.height)}(this.cvs),function(e,t){var r=e.getContext("2d");r&&(r.save(),r.beginPath(),r.fillStyle=t,r.roundRect(0,0,e.width,e.height,20*e.width/240),r.fill(),r.closePath(),r.restore())}(this.cvs,d.backgroundColor),function(e,t,r){var i=e.getContext("2d");i&&(i.save(),i.beginPath(),i.fillStyle=t,i.arc(r.x,r.y,r.radius,0,2*Math.PI),i.fill(),i.closePath(),i.restore())}(this.cvs,d.faceColor,d.center),function(e,t){var r=e.getContext("2d"),i=t.hourAngle,o=t.minuteAngle,a=t.center,n=t.hourScaleColor,l=t.minuteScaleColor;if(r){r.save(),r.beginPath(),r.fillStyle=n,r.translate(a.x,a.y);for(var s=0;s<12;s++)r.roundRect(-2*t.dpi,2*t.dpi-a.radius,4*t.dpi,.12*a.radius,2*t.dpi),r.rotate(i);r.fill(),r.closePath(),r.restore(),r.save(),r.beginPath(),r.fillStyle=l,r.translate(a.x,a.y);for(var d=0;d<60;d++)d%5>0&&r.roundRect(-t.dpi,2*t.dpi-a.radius,2*t.dpi,.09*a.radius,t.dpi),r.rotate(o);r.fill(),r.closePath(),r.restore()}}(this.cvs,d),d.showNumber&&function(e,t){var r=e.getContext("2d"),i=t.hourAngle,o=t.textColor,a=t.center,n=.75*a.radius;if(r){r.save(),r.beginPath(),r.fillStyle=o,r.textAlign="center",r.textBaseline="middle",r.font="bold "+.2*a.radius+"px sans-serif",r.translate(a.x,a.y);for(var l=0;l<12;l++)r.fillText(0===l?12:l,Math.sin(l*i)*n,-Math.cos(l*i)*n);r.fill(),r.closePath(),r.restore()}}(this.cvs,d),function(e,t,r){var i=e.getContext("2d");if(i){var o=r.center,a=t*r.hourAngle/36e5;i.save(),i.beginPath(),i.fillStyle=r.hourPointerColor,i.translate(o.x,o.y),i.arc(0,0,6*r.dpi,0,2*Math.PI),i.rotate(a),i.roundRect(-2*r.dpi,.15*-o.radius,4*r.dpi,.15*o.radius,4*r.dpi),i.roundRect(-5*r.dpi,.5*-o.radius,10*r.dpi,.37*o.radius,10*r.dpi),i.fill(),i.closePath(),i.restore()}}(this.cvs,36e5*h+60*u*1e3+1e3*f+g,d),function(e,t,r){var i=e.getContext("2d");if(i){var o=r.center,a=t*r.minuteAngle/6e4;i.save(),i.beginPath(),i.fillStyle=r.hourPointerColor,i.translate(o.x,o.y),i.arc(0,0,6*r.dpi,0,2*Math.PI),i.rotate(a),i.roundRect(-2*r.dpi,.15*-o.radius,4*r.dpi,.15*o.radius,4*r.dpi),i.roundRect(-4*r.dpi,.8*-o.radius,8*r.dpi,.67*o.radius,8*r.dpi),i.fill(),i.closePath(),i.restore()}}(this.cvs,60*u*1e3+1e3*f+g,d),function(e,t,r){var i=e.getContext("2d");if(i){var o=r.center,a=t*r.milliAngle;i.save(),i.beginPath(),i.fillStyle=r.milliPointerColor,i.translate(o.x,o.y),i.arc(0,0,6*r.dpi,0,2*Math.PI),i.rotate(a),i.roundRect(-2*r.dpi,.88*-o.radius,4*r.dpi,o.radius,4*r.dpi),i.fill(),i.closePath(),i.restore(),i.save(),i.beginPath(),i.fillStyle=r.centerCircleColor,i.translate(o.x,o.y),i.arc(0,0,3*r.dpi,0,2*Math.PI),i.fill(),i.closePath(),i.restore()}}(this.cvs,1e3*f+g,d),this.afId=requestAnimationFrame((function(){l.draw()}))},o.destroy=function(){var e;this.afId&&cancelAnimationFrame(this.afId),null==(e=this.cvs.parentNode)||e.removeChild(this.cvs)},e}(),Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=webclock.umd.production.min.js.map
