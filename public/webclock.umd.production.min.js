!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).WebClock={})}(this,(function(t){"use strict";function e(){return(e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var r={theme:"apple-dark",width:240,height:240,dpi:2},i={"apple-dark":{backgroundColor:"rgba(0, 0, 0, 0.85)",faceColor:"#fff",hourScaleColor:"rgba(0, 0, 0, 0.6)",minuteScaleColor:"rgba(0, 0, 0, 0.3)",textColor:"rgba(0, 0, 0, 0.6)",hourPointerColor:"rgba(0, 0, 0, 0.85)",minutePointerColor:"rgba(0, 0, 0, 0.85)",milliPointerColor:"rgba(242, 162, 60, 1)",centerCircleColor:"#fff"},"apple-light":{backgroundColor:"#fff",faceColor:"rgba(0, 0, 0, 1)",hourScaleColor:"rgba(255, 255, 255, 0.6)",minuteScaleColor:"rgba(255, 255, 255, 0.3)",textColor:"rgba(255, 255, 255, 0.6)",hourPointerColor:"rgba(255, 255, 255, 0.85)",minutePointerColor:"rgba(255, 255, 255, 0.85)",milliPointerColor:"rgba(242, 162, 60, 1)",centerCircleColor:"#fff"},mi:{backgroundColor:"rgba(238, 113, 46, 1)",faceColor:"#fff",hourScaleColor:"rgba(238, 113, 46, 0.6)",minuteScaleColor:"rgba(238, 113, 46, 0.3)",textColor:"rgba(238, 113, 46, 1)",hourPointerColor:"rgba(238, 113, 46, 1)",minutePointerColor:"rgba(238, 113, 46, 1)",milliPointerColor:"rgba(242, 162, 60, 1)",centerCircleColor:"#fff"}},o=function(t,e){var r=t.getContext("2d");r&&(r.save(),r.beginPath(),e(r),r.closePath(),r.fill(),r.restore())};t.default=function(){function t(t,i){void 0===i&&(i={}),this.cvs=function(t){if(!t){var e=document.createElement("canvas");return document.body.appendChild(e),e}if("string"==typeof t)return document.querySelector("#"+t);if(t instanceof HTMLCanvasElement)return t;throw"参数错误"}(t),this.option=e({},r,i),this.draw()}var n=t.prototype;return n.draw=function(){var t,r,n,a,l,c=this,d=2*Math.PI,s=e({},this.option,i[this.option.theme||"apple-dark"],this.option.userTheme||{},{hourAngle:d/12,minuteAngle:d/60,secondAngle:d/3600,milliAngle:d/6e4}),u=new Date,f=u.getHours(),h=u.getMinutes(),p=u.getSeconds(),g=u.getMilliseconds();a=(r=this.option).height,l=r.dpi,(t=this.cvs).style.width=(n=r.width)+"px",t.style.width=a+"px",t.width=n*l,t.height=a*l,s.center={x:this.cvs.width/2,y:this.cvs.height/2,radius:.45*Math.min(this.cvs.width,this.cvs.height)},function(t){var e=t.getContext("2d");null==e||e.clearRect(0,0,t.width,t.height)}(this.cvs),function(t,e){o(t,(function(r){r.fillStyle=e,r.roundRect(0,0,t.width,t.height,20*t.width/240)}))}(this.cvs,s.backgroundColor),function(t,e,r){o(t,(function(t){t.fillStyle=e,t.arc(r.x,r.y,r.radius,0,2*Math.PI)}))}(this.cvs,s.faceColor,s.center),function(t,e){var r=e.hourAngle,i=e.minuteAngle,n=e.center,a=e.hourScaleColor,l=e.minuteScaleColor;o(t,(function(t){t.fillStyle=a,t.translate(n.x,n.y);for(var i=0;i<12;i++)t.roundRect(-2*e.dpi,2*e.dpi-n.radius,4*e.dpi,.12*n.radius,2*e.dpi),t.rotate(r)})),o(t,(function(t){t.fillStyle=l,t.translate(n.x,n.y);for(var r=0;r<60;r++)r%5>0&&t.roundRect(-e.dpi,2*e.dpi-n.radius,2*e.dpi,.09*n.radius,e.dpi),t.rotate(i)}))}(this.cvs,s),s.showNumber&&function(t,e){var r=e.hourAngle,i=e.textColor,n=e.center,a=.75*n.radius;o(t,(function(t){t.fillStyle=i,t.textAlign="center",t.textBaseline="middle",t.font="bold "+.2*n.radius+"px sans-serif",t.translate(n.x,n.y);for(var e=0;e<12;e++)t.fillText(0===e?12:e,Math.sin(e*r)*a,-Math.cos(e*r)*a)}))}(this.cvs,s),function(t,e,r){var i=r.center,n=e*r.hourAngle/36e5;o(t,(function(t){t.fillStyle=r.hourPointerColor,t.translate(i.x,i.y),t.arc(0,0,6*r.dpi,0,2*Math.PI),t.rotate(n),t.roundRect(-2*r.dpi,.15*-i.radius,4*r.dpi,.15*i.radius,4*r.dpi),t.roundRect(-5*r.dpi,.5*-i.radius,10*r.dpi,.37*i.radius,10*r.dpi)}))}(this.cvs,36e5*f+60*h*1e3+1e3*p+g,s),function(t,e,r){if(t.getContext("2d")){var i=r.center,n=e*r.minuteAngle/6e4;o(t,(function(t){t.fillStyle=r.hourPointerColor,t.translate(i.x,i.y),t.arc(0,0,6*r.dpi,0,2*Math.PI),t.rotate(n),t.roundRect(-2*r.dpi,.15*-i.radius,4*r.dpi,.15*i.radius,4*r.dpi),t.roundRect(-4*r.dpi,.8*-i.radius,8*r.dpi,.67*i.radius,8*r.dpi)}))}}(this.cvs,60*h*1e3+1e3*p+g,s),function(t,e,r){if(t.getContext("2d")){var i=r.center,n=e*r.milliAngle;o(t,(function(t){t.fillStyle=r.milliPointerColor,t.translate(i.x,i.y),t.arc(0,0,6*r.dpi,0,2*Math.PI),t.rotate(n),t.roundRect(-2*r.dpi,.88*-i.radius,4*r.dpi,i.radius,4*r.dpi)})),o(t,(function(t){t.fillStyle=r.centerCircleColor,t.translate(i.x,i.y),t.arc(0,0,3*r.dpi,0,2*Math.PI)}))}}(this.cvs,1e3*p+g,s),this.afId=requestAnimationFrame((function(){c.draw()}))},n.destroy=function(){var t;this.afId&&cancelAnimationFrame(this.afId),null==(t=this.cvs.parentNode)||t.removeChild(this.cvs)},t}(),Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=webclock.umd.production.min.js.map
